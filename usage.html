

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>How to Use &mdash; Lifeblood 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="Overview of Lifeblood" href="overview.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Lifeblood
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview of Lifeblood</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#config-location">Config location</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hardware-setup">Hardware Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#prepare-to-lunch">Prepare To Lunch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launch">Launch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#start-a-scheduler">Start a Scheduler</a></li>
<li class="toctree-l3"><a class="reference internal" href="#start-workers">Start Workers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#use-pools-instead">Use Pools instead</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#start-viewer">Start Viewer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="scheduler/scheduler.html">Lifeblood Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="worker.html">Lifeblood Worker</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewer/viewer.html">Lifeblood Viewer</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Lifeblood</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>How to Use</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-use">
<span id="usage"></span><h1>How to Use<a class="headerlink" href="#how-to-use" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#installation" id="id3">Installation</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id4">Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#config-location" id="id5">Config location</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#hardware-setup" id="id6">Hardware Setup</a></p></li>
<li><p><a class="reference internal" href="#prepare-to-lunch" id="id7">Prepare To Lunch</a></p></li>
<li><p><a class="reference internal" href="#launch" id="id8">Launch</a></p>
<ul>
<li><p><a class="reference internal" href="#start-a-scheduler" id="id9">Start a Scheduler</a></p></li>
<li><p><a class="reference internal" href="#start-workers" id="id10">Start Workers</a></p>
<ul>
<li><p><a class="reference internal" href="#use-pools-instead" id="id11">Use Pools instead</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#start-viewer" id="id12">Start Viewer</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation">
<span id="id1"></span><h2><a class="toc-backref" href="#id3">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Lifeblood consists of 2 parts:</p>
<ul class="simple">
<li><p>the core part that contains scheduler and worker, and has no GUI dependencies</p></li>
<li><p>viewer part, you only need viewer on user machines that will need to see the progress of their tasks
and modify task nodetree</p></li>
</ul>
<p>The simplest way to install Lifeblood is to use pip:</p>
<ul class="simple">
<li><p>on machines that will be performing work - install just Lifeblood: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">lifeblood</span></code></p></li>
<li><p>on machines that will need GUI to access scheduler - install viewer: <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">lifeblood_viewer</span></code></p></li>
</ul>
<p>A common simplest case for one artist with 1-2 extra computers on the network would be
to install Lifeblood_viewer (it will also install Lifeblood itself), and install just lifeblood
on those extra machines.</p>
<p>In this simplest case you will probably run scheduler, a worker pool and viewer on the main machine,
while extra machines will only run workers.</p>
<p>Check <a class="reference internal" href="overview.html#overview-scheduler"><span class="std std-ref">overview</span></a> to learn basic components of Lifeblood</p>
<p>Also check the <a class="reference internal" href="tutorials.html#tutorials-installation"><span class="std std-ref">tutorial section</span></a></p>
</div>
<div class="section" id="configuration">
<span id="id2"></span><h2><a class="toc-backref" href="#id4">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Lifeblood is made in a way so you can start it with minimum to zero pre-configuration.
But even in simplest cases you might will need to adjust something.</p>
<p>Lifeblood’s components will create default configs for themselves on first launch.
You can start with default config and adjust it if such need arises.</p>
<p>All components of Lifeblood are configured by a number of configs files, some of those values can be overriden with command-line arguments</p>
<div class="section" id="config-location">
<span id="config-dir"></span><h3><a class="toc-backref" href="#id5">Config location</a><a class="headerlink" href="#config-location" title="Permalink to this headline">¶</a></h3>
<p>Config files are generated and stored in location defined by <code class="docutils literal notranslate"><span class="pre">LIFEBLOOD_CONFIG_LOCATION</span></code> environment variable,
by default it’s:</p>
<ul class="simple">
<li><p>on linux it’s <code class="docutils literal notranslate"><span class="pre">~</span></code>: <code class="docutils literal notranslate"><span class="pre">~/lifeblood</span></code>, <code class="docutils literal notranslate"><span class="pre">/home/&lt;username&gt;/lifeblood</span></code> (linux)</p></li>
<li><p>on windows it’s your <code class="docutils literal notranslate"><span class="pre">Documents</span></code> folder: <code class="docutils literal notranslate"><span class="pre">%HOME%/lifeblood</span></code>, <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;username&gt;\Documents\lifeblood</span></code> (windows)</p></li>
<li><p>on mac it’s in <code class="docutils literal notranslate"><span class="pre">~/Library/Preferences/lifeblood</span></code>, <code class="docutils literal notranslate"><span class="pre">/Users/&lt;username&gt;/Library/Preferences/lifeblood</span></code> (mac)</p></li>
</ul>
<p>In your config location you will find subdirs named after components, and certain component-specific configuration files within.
The main config file in most cases is called <code class="docutils literal notranslate"><span class="pre">config.toml</span></code>. It uses <a class="reference external" href="https://toml.io/">toml language</a>.</p>
<div class="line-block">
<div class="line">All configurations use TOML config language.</div>
<div class="line">In future we will refer to config location as <code class="docutils literal notranslate"><span class="pre">&lt;config_dir&gt;</span></code></div>
</div>
<p>Detailed config file description see at:</p>
<ul class="simple">
<li><p><a class="reference internal" href="scheduler/scheduler_configs.html#scheduler-configs"><span class="std std-ref">Scheduler Config</span></a></p></li>
<li><p><span class="xref std std-ref">worker configs</span></p></li>
<li><p><span class="xref std std-ref">viewer configs</span></p></li>
</ul>
<div class="line-block">
<div class="line">Some parameters defined in config files can be overriden with command line arguments</div>
<div class="line">If scheduler is installed as pip package - a <code class="docutils literal notranslate"><span class="pre">lifeblood</span></code> command will be added to PATH.</div>
<div class="line">The component may be launched just by supplying it as argument to lifeblood, like</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">scheduler</span></code></div>
<div class="line">use <code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">&lt;command&gt;</span> <span class="pre">--help</span></code> to get reference for each command</div>
</div>
</div>
</div>
<div class="section" id="hardware-setup">
<h2><a class="toc-backref" href="#id6">Hardware Setup</a><a class="headerlink" href="#hardware-setup" title="Permalink to this headline">¶</a></h2>
<p>In this “How To” it’s assumed that you have the simplest and most common individual network setup:</p>
<ul>
<li><p>All your computers on the network can directly communicate to each other</p></li>
<li><div class="line-block">
<div class="line">All your computers in the same subnetwork</div>
<div class="line">This is required for broadcasting. To ease the setup scheduler will broadcast it’s address into current subnetwork.
Subnetwork targeted broadcasts should be forwarded by routers if needed, but it’s safer (and common) to have
all devices connected to the same router.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">All your computers have some shared location accessible from all computers with the same address</div>
<div class="line">This is a reasonable assumption as most commonly you would want to have uniform access to scenes,
textures, models etc from all work machines, and so that <code class="docutils literal notranslate"><span class="pre">path/to/texture1</span></code> leads to the same texture file
on all machines</div>
</div>
</li>
</ul>
</div>
<div class="section" id="prepare-to-lunch">
<h2><a class="toc-backref" href="#id7">Prepare To Lunch</a><a class="headerlink" href="#prepare-to-lunch" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">As said before, the most common use case for Lifeblood needs little to none configuration,</div>
<div class="line">However, if you plan to use default standard environment resolver - it needs to detect the location of
the software it can resolve.</div>
</div>
<ul class="simple">
<li><p>TODO: add steps how to generate initial resolver config</p></li>
</ul>
</div>
<div class="section" id="launch">
<h2><a class="toc-backref" href="#id8">Launch</a><a class="headerlink" href="#launch" title="Permalink to this headline">¶</a></h2>
<p>You will need to launch Lifeblood’s components.</p>
<ul class="simple">
<li><p>single scheduler</p></li>
<li><p>any number of workers</p></li>
<li><p>veiwers if needed and as needed</p></li>
</ul>
<div class="section" id="start-a-scheduler">
<h3><a class="toc-backref" href="#id9">Start a Scheduler</a><a class="headerlink" href="#start-a-scheduler" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Scheduler is the central part of Lifeblood: it manages tasks and workers.</div>
<div class="line">Generally there should always be only one single scheduler running in a local network.</div>
<div class="line">read more <a class="reference internal" href="scheduler/scheduler.html#scheduler"><span class="std std-ref">in scheduler documentation</span></a></div>
</div>
<p>Starting scheduler is simple:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">scheduler</span></code> - this will start scheduler with all settings taken from configs</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">--loglevel</span> <span class="pre">DEBUG</span> <span class="pre">scheduler</span></code> - this would start scheduler with loglevel set to verbose DEBUG level.
Note that <code class="docutils literal notranslate"><span class="pre">--loglevel</span></code> is passed before command, as it’s a general lifeblood flag</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">--loglevel</span> <span class="pre">DEBUG</span> <span class="pre">scheduler</span> <span class="pre">--verbosity-pinger</span> <span class="pre">INFO</span></code> - some subcomponents of scheduler can produce really
too much noise in the log, so some of them can be explicitly set to use a different log level.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">--loglevel</span> <span class="pre">DEBUG</span> <span class="pre">scheduler</span> <span class="pre">--verbosity-pinger</span> <span class="pre">INFO</span> <span class="pre">--db-path</span> <span class="pre">/path/to/database.db</span></code> - in addition to all
said above, here we override database location set in config to use sqlite db file at <code class="docutils literal notranslate"><span class="pre">/path/to/database.db</span></code></p></li>
</ul>
</div>
<div class="section" id="start-workers">
<h3><a class="toc-backref" href="#id10">Start Workers</a><a class="headerlink" href="#start-workers" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Worker is the part of Lifeblood that is responsible for launching things as ordered by scheduler.</div>
<div class="line">You would have a single scheduler and multiple workers ran across local network.</div>
<div class="line">Worker knows about computational resources available on current computer, and reports that to scheduler.</div>
<div class="line">Multiple workers may be launched on the same machine, they should be able to agree with each other on how to share
resources among each other</div>
<div class="line">Workers can be started on the same machine with scheduler, BUT you should be careful to leave enough resources for
scheduler to work. If machine runs out of memory - scheduler will have problems working and may crash
or be killed by the system.</div>
</div>
<p>Read more <a class="reference internal" href="worker.html#worker"><span class="std std-ref">in worker documentation</span></a></p>
<div class="section" id="use-pools-instead">
<span id="usage-pools"></span><h4><a class="toc-backref" href="#id11">Use Pools instead</a><a class="headerlink" href="#use-pools-instead" title="Permalink to this headline">¶</a></h4>
<p>Instead of starting individual workers you will probably want to start some kind of worker pool that will manage workers
for you</p>
<p>If you just want to get it started:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">pool</span> <span class="pre">simple</span></code></p>
</div></blockquote>
<p>That’s it. This way a “simple” worker pool will be started. it creates new workers as long as no idle workers exist and
system has resources left to do work.</p>
<p>You can start individual workers yourself manually with, but simple cases should be covered by the pool</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">worker</span></code></p>
</div></blockquote>
</div>
</div>
<div class="section" id="start-viewer">
<h3><a class="toc-backref" href="#id12">Start Viewer</a><a class="headerlink" href="#start-viewer" title="Permalink to this headline">¶</a></h3>
<p>Viewer is a component that is used to connect to the scheduler and:</p>
<ul>
<li><p>see the progress of your tasks</p></li>
<li><p>create node graph</p></li>
<li><p>manipulate tasks</p>
<p><code class="docutils literal notranslate"><span class="pre">lifeblood</span> <span class="pre">viewer</span></code></p>
</li>
</ul>
<p>Viewer is just a user interface, it’s not needed for proper scheduler or worker operation.</p>
<p>You will have to use viewer to set up your Lifeblood task processing node network.
By default scheduler with a new database has no nodes, so no tasks can be created.</p>
<p>see <span class="xref std std-ref">tutorials</span> to understand how to work in the viewer</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview of Lifeblood" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 10132 BC - 2029 AD, XAPKOHHEH.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>